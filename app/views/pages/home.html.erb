<div class="bg-white">
  <header class="absolute inset-x-0 top-0 z-50">
    <div class="mx-auto max-w-7xl">
      <div class="px-6 pt-6 lg:max-w-2xl lg:pl-8 lg:pr-0">
        <nav class="flex items-center justify-between lg:justify-start" aria-label="Global">
          <a href="#" class="-m-1.5 p-1.5 text-gray-900">
            <span class="sr-only">Your Company</span>
            <h1 class="text-gray-900 text-2xl font-bold">Rc</h1>
          </a>
          <button type="button" class="-m-2.5 rounded-md p-2.5 text-gray-700 lg:hidden">
            <span class="sr-only">Open main menu</span>
            <svg class="size-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
            </svg>
          </button>
          <div class="hidden lg:ml-12 lg:flex lg:gap-x-8">
            <%= link_to 'Community', communities_path, class: "text-md font-semibold text-gray-900 no-underline font-arial" %>
            <%= link_to 'Research', articles_path, class: "text-md font-semibold text-gray-900 no-underline font-arial" %>
            <%= link_to "Events", events_path, class: "text-md font-semibold text-gray-900 no-underline font-arial" %>


            <%# <a href="#" class="text-sm/6 text-gray-900 no-underline">What’s happening</a> %>
            <div class="relative">
              <!-- Trigger Button -->
              <button 
                id="menu-button" 
                class="text-md font-semibold text-gray-900 focus:outline-none"
                onclick="toggleMenu()"
              >
                Members
              </button>

              <!-- Dropdown Menu -->
              <div 
                id="menu-dropdown" 
                class="absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-md shadow-lg hidden"
              >
                <% if user_signed_in? %>
            <!-- Link to Community Show Page -->
                  <% if current_user.community.present? %>
                    <%= link_to 'My Profile', community_path(current_user.community), 
                                class: 'block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100' %>
                    
                    <!-- Edit Profile Link -->
                    <%= link_to 'Edit Profile', edit_community_path(current_user.community), 
                                class: 'block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100' %>

                    <!-- Delete Profile Link -->
                    <%= link_to 'Delete Profile', community_path(current_user.community), 
                                data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, 
                                class: 'block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100' %>
                  <% else %>
                    <%= link_to 'Join us', new_community_path, class: 'block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100' %>
                  <% end %>

                  <!-- Log out Link -->
                  <%= link_to 'Log out', destroy_user_session_path, 
                              data: { turbo_method: :delete }, 
                              class: 'block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100' %>
                <% else %>
                  <!-- Log in Link -->
                  <%= link_to 'Log in', new_user_session_path, 
                              class: 'block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100' %>
                <% end %>
              </div>
            </div>



          </div>
        </nav>
      </div>
    </div>
    <!-- Mobile menu, show/hide based on menu open state. -->
    <!-- Open Menu Button -->
    <!-- Open Menu Button -->
    


  </header>

  <div class="relative">
    <div class="mx-auto max-w-7xl">
      <div class="relative z-10 pt-14 lg:w-full lg:max-w-2xl">
        <svg class="absolute inset-y-0 right-8 hidden h-full w-80 translate-x-1/2 transform fill-white lg:block" viewBox="0 0 100 100" preserveAspectRatio="none" aria-hidden="true">
          <polygon points="0,0 90,0 50,100 0,100" />
        </svg>

        <div class="relative px-6 py-32 sm:py-40 lg:px-8 lg:py-56 lg:pr-0">
          <div class="mx-auto max-w-2xl lg:mx-0 lg:max-w-xl -mt-20">
            <h1 class="text-pretty text-3xl font-semibold tracking-tight text-gray-900 sm:text-3xl font-serif">
              Research In Action <br>
              <span class="block">Community</span>
            </h1>
            <p class="mt-8 text-pretty text-lg font-medium text-gray-900 sm:text-xl/8 font-serif">We are an international research community dedicated to social inquiry. 
By participating in a disciplined, joint inquiry process, which we call Research-in-Action we aim to influence conversations across fields—scholarly and professional—while always centering the everyday experiences of practitioners.</p>
            <div class="mt-10 flex items-center gap-x-6">
              <%= link_to 'Our Community', communities_path, class: "rounded-md bg-gray-900 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-gray-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-gray-600" %>
            
            </div>
          </div>
        </div>
      </div>
    </div>

    <%# right slide %>

    <div class="bg-gray-50 lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2" style="background-color: #f3ce00; display: contents;">
      <div class="lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2" style="background-color: rgb(255 202 13); padding-top: 200px; display: flex; justify-content: space-evenly;">
      <div class="swiper-container" style="width: 700px; height: 400px; overflow: hidden;">
        <div class="swiper-wrapper">
            <!-- Slide 1 -->
            <div class="swiper-slide cursor-pointer">
                <a href="<%= asset_path('group1.jpg') %>" data-fancybox="gallery" data-caption="Photo 1">
                    <img 
                        class="object-cover rounded-md" 
                        src="<%= asset_path('group1.jpg') %>" 
                        alt="Photo 1"
                        style="width: 400px; height: 300px;"
                    >
                </a>
            </div>
            <!-- Slide 2 -->
            <div class="swiper-slide cursor-pointer">
                <a href="<%= asset_path('group2.jpg') %>" data-fancybox="gallery" data-caption="Photo 2">
                    <img 
                        class="object-cover rounded-md" 
                        src="<%= asset_path('group2.jpg') %>" 
                        alt="Photo 2"
                        style="width: 400px; height: 300px;"
                    >
                </a>
            </div>
            <!-- Slide 3 -->
            <div class="swiper-slide cursor-pointer">
                <a href="<%= asset_path('group3.jpg') %>" data-fancybox="gallery" data-caption="Photo 3">
                    <img 
                        class="object-cover rounded-md" 
                        src="<%= asset_path('group3.jpg') %>" 
                        alt="Photo 3"
                        style="width: 400px; height: 300px;"
                    >
                </a>
            </div>
            <!-- Slide 4 -->
            <div class="swiper-slide cursor-pointer">
                <a href="<%= asset_path('group4.jpg') %>" data-fancybox="gallery" data-caption="Photo 4">
                    <img 
                        class="object-cover rounded-md" 
                        src="<%= asset_path('group4.jpg') %>" 
                        alt="Photo 4"
                        style="width: 400px; height: 300px;"
                    >
                </a>
            </div>
            <!-- Slide 5 -->
            <div class="swiper-slide cursor-pointer">
                <a href="<%= asset_path('group5.jpg') %>" data-fancybox="gallery" data-caption="Photo 5">
                    <img 
                        class="object-cover rounded-md" 
                        src="<%= asset_path('group5.jpg') %>" 
                        alt="Photo 5"
                        style="width: 400px; height: 300px;"
                    >
                </a>
            </div>
            <div class="swiper-slide cursor-pointer">
                <a href="<%= asset_path('group6.jpg') %>" data-fancybox="gallery" data-caption="Photo 6">
                    <img 
                        class="object-cover rounded-md" 
                        src="<%= asset_path('group6.jpg') %>" 
                        alt="Photo 6"
                        style="width: 400px; height: 300px;"
                    >
                </a>
            </div>
            <div class="swiper-slide cursor-pointer">
                <a href="<%= asset_path('group7.jpg') %>" data-fancybox="gallery" data-caption="Photo 7">
                    <img 
                        class="object-cover rounded-md" 
                        src="<%= asset_path('group7.jpg') %>" 
                        alt="Photo 7"
                        style="width: 400px; height: 300px;"
                    >
                </a>
            </div>
            <div class="swiper-slide cursor-pointer">
                <a href="<%= asset_path('group8.jpg') %>" data-fancybox="gallery" data-caption="Photo 8">
                    <img 
                        class="object-cover rounded-md" 
                        src="<%= asset_path('group8.jpg') %>" 
                        alt="Photo 8"
                        style="width: 400px; height: 300px;"
                    >
                </a>
            </div>
        </div>
        <!-- Pagination -->
        <div class="swiper-pagination"></div>
      </div>

      </div>
    </div>
    </div>
  </div>
</div>


<script>

  // swiper
  
  document.addEventListener("turbo:load", () => {
  const swiper = new Swiper('.swiper-container', {
    direction: 'horizontal',
    loop: true,
    slidesPerView: 3,
    spaceBetween: 10,
    pagination: {
      el: '.swiper-pagination',
      clickable: true,
    },
    autoplay: {
      delay: 2000,
    },
  });
});


  // My account


  function toggleMenu() {
    let menu = document.getElementById("menu-dropdown");
    menu.classList.toggle("hidden");
  }

  document.addEventListener("click", function(event) {
    let menu = document.getElementById("menu-dropdown");
    let button = document.getElementById("menu-button");

    // Close the dropdown if clicking outside of it
    if (!menu.contains(event.target) && !button.contains(event.target)) {
      menu.classList.add("hidden");
    }
  });

// Mobile Menue

document.addEventListener('turbo:load', () => {
  const menuButton = document.getElementById('menu-open');
  const dropdownMenu = document.getElementById('mobile-menu');

  menuButton.addEventListener('click', () => {
    dropdownMenu.classList.toggle('hidden'); // Show or hide the menu
  });

  document.addEventListener('click', (event) => {
    if (!menuButton.contains(event.target) && !dropdownMenu.contains(event.target)) {
      dropdownMenu.classList.add('hidden'); // Close the menu if clicking outside
    }
  });
});


</script>